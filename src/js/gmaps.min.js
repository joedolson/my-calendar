(()=>{(function(){(function(){var r=document.querySelectorAll("div.mc-gmap-markers");r.forEach(e=>{m(e)});var s=document.querySelectorAll("div.mc-gmap-location-list .mc-location-details");s.forEach(e=>{var t=e.querySelector(".sub-address"),a=e.querySelector(".adr .org"),l=e.getAttribute("id");t.style.display="none",t.setAttribute("id","control-"+l);var n=document.createElement("button");n.type="button",n.innerHTML=gmaps.toggle,n.className="toggle-locations",n.setAttribute("aria-controls","control-"+l),n.setAttribute("aria-expanded",!1),a.insertAdjacentElement("afterbegin",n)});var o=document.querySelectorAll("button.toggle-locations");o.forEach(e=>{e.addEventListener("click",function(){var t=e.getAttribute("aria-controls"),a=document.getElementById(t),l=a.style.display!="none";l?(a.style.display="none",this.setAttribute("aria-expanded",!1),this.querySelector(".dashicons").classList.remove("dashicons-arrow-down"),this.querySelector(".dashicons").classList.add("dashicons-arrow-right")):(a.style.display="block",this.setAttribute("aria-expanded",!0),this.querySelector(".dashicons").classList.add("dashicons-arrow-down"),this.querySelector(".dashicons").classList.remove("dashicons-arrow-right"))})})})();function m(r){let s=r.querySelectorAll(".marker"),o=s.length,e=r.getAttribute("data-maptype"),t=r.getAttribute("id"),a={center:{lng:0,lat:0},mapTypeId:e,mapId:t},l=new google.maps.Map(r,a),n=new google.maps.LatLngBounds;if(s.forEach(i=>{u(i,l,n)}),o>25){let i=new google.maps.LatLng(n.getNorthEast().lat()-.01,n.getNorthEast().lng()-.01);n.extend(i)}return l}function u(r,s,o){var a,l,n;let e=new google.maps.LatLng(r.getAttribute("data-lat"),r.getAttribute("data-lng")),t=null;if(r.getAttribute("data-lat")==""||r.getAttribute("data-lng")==""){let i=new google.maps.Geocoder;t=new p(i,r,s,o)}else{s.setCenter(e);let i,c=r.getAttribute("data-title");try{if(i={position:e,map:s,gmpClickable:!0,title:c},(n=(l=(a=window.google)==null?void 0:a.maps)==null?void 0:l.marker)!=null&&n.AdvancedMarkerElement)t=new window.google.maps.marker.AdvancedMarkerElement(i);else throw new Error("AdvancedMarkerElement not available.")}catch(d){i={position:e,map:s,clickable:!0,title:c},console.warn("Falling back to legacy marker: ",d.message),t=new google.maps.Marker(i)}if(t instanceof google.maps.marker.AdvancedMarkerElement?e=new google.maps.LatLng(t.position.lat,t.position.lng):e=new google.maps.LatLng(t.position.lat(),t.position.lng()),o.extend(e),o.getNorthEast().equals(o.getSouthWest())){let d=new google.maps.LatLng(o.getNorthEast().lat()+.005,o.getNorthEast().lng()+.005);o.extend(d)}s.fitBounds(o);let g=r.querySelector(".mc-google-marker");if(g){let d=document.createElement("strong");d.innerText=c;let h=new google.maps.InfoWindow({content:g,headerContent:d});google.maps.event.addListener(t,"click",function(){h.open(s,t)})}}}function p(r,s,o,e){let t=s.getAttribute("data-address"),a=null;a=r.geocode({address:t},function(l,n){if(n==="OK"){o.setCenter(l[0].geometry.location),a=new google.maps.Marker({map:o,position:l[0].geometry.location,clickable:!0,title:s.getAttribute("data-title")});let i=new google.maps.LatLng(a.position.lat(),a.position.lng());if(e.extend(i),e.getNorthEast().equals(e.getSouthWest())){let g=new google.maps.LatLng(e.getNorthEast().lat()+.005,e.getNorthEast().lng()+.005);e.extend(g)}o.fitBounds(e);let c=s.innerHTML;if(c){let g=new google.maps.InfoWindow({content:c});a.addListener("click",()=>{g.open({anchor:a,plot:o})})}}else console.log("Geocode was not successful for the following reason: "+n),console.log("Address used to Geocode: "+t)})}})();})();
